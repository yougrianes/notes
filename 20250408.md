漫士沉思录

deepseek的三大优势：

1. 无需标注的回报评判
2. 自发产生的思考能力
3. 有效的架构

deepseek r1

客观评判

基于规则的

例如数学只有标准答案，程序只有正确结果

先思考后回答

GRPO：让ai生成多个答案，他们变成一个群组，进行组内的自我对比，如果某个结果是正确的，而所有不对的结果向其看齐。

后续很多研究中，grpo相对原始的ppo来说提升并不明显。

有趣的行为：增大回复的长度，尝试更多新的思路。Aha moment？

反复自我激励，找到解决问题的钥匙。

ai训练复查和反思。

MoE：不同领域的专长专家，不同任务专门训练对应的专家，并通过router来调度。

flashattn加速 - 提升推理速度。

----

什么是流式计算：

流式计算是一种处理实时数据流的计算模式，它能对不断产生的数据流进行实时处理和分析，在数据产生的同时就进行计算，而不是先将数据存储起来再进行批量处理。以下是关于流式计算的详细介绍：

- **特点**
  - **实时性**：这是流式计算最显著的特点。它可以在数据产生的瞬间就进行处理，能够快速给出计算结果，延迟通常在秒级甚至毫秒级，能满足对实时性要求极高的场景，如金融交易监控、实时路况分析等。
  - **数据流式处理**：数据就像水流一样源源不断地进入计算系统，系统会按照数据到达的顺序依次进行处理，不需要等待所有数据都收集完成后再开始处理。
  - **分布式处理**：为了处理大规模的实时数据流，流式计算通常采用分布式计算架构，将数据分散到多个计算节点上进行并行处理，以提高计算效率和系统的可扩展性。
  - **持续计算**：只要有数据流入，流式计算系统就会一直运行下去，持续对新的数据进行处理，不断更新计算结果。
- **应用场景**
  - **金融领域**：用于实时监测股票交易、金融风险预警等。例如，通过流式计算实时分析股票的交易数据，当出现异常交易行为或风险指标超出阈值时，立即发出警报，以便及时采取措施。
  - **物联网领域**：处理大量传感器产生的数据。比如，在智能城市中，通过对流式计算处理来自各个传感器的环境数据、交通数据等，实现对城市环境和交通的实时监测和管理。
  - **电商领域**：实时分析用户行为数据，如用户的浏览、购买等行为，以便及时为用户提供个性化推荐、实时调整营销策略等。
  - **日志分析领域**：对系统日志、网络日志等进行实时分析，及时发现系统故障、安全漏洞等问题。
- **主流框架**
  - **Apache Storm**：是一个分布式的、可靠的实时计算系统，具有高容错性、可扩展性强等特点，能够快速处理大规模的实时数据流。
  - **Apache Flink**：是一个流批一体化的计算框架，既可以处理实时数据流，也可以处理批量数据。它具有高效的内存管理和强大的容错机制，在流式计算领域应用广泛。
  - **Kafka Streams**：是Apache Kafka提供的一个用于处理流数据的库，它基于Kafka的分布式消息队列，能够方便地实现流式计算应用，具有良好的可扩展性和容错性。

我对局部时空坐标系的理解：

1. 为什么当观测窗口滑动的时候，依赖全局坐标系会导致每次都需要根据最新的智能体状态来重新归一化和编码所有场景元素，进而产生巨大的计算量，这个问题的关键是什么？
   1. 我理解是这样，因为实际场景中，车辆的位置和姿态，包括自车和他车，都是在一直变化的。因此，在全局坐标的基准下，智能体在不同时刻的状态，都处在同一个全局坐标系下，当观测窗口滑动的时候，新的目标也在移动，因此相对关系就会发生变化。
   2. 另外，对于场景中的地图车道、周围的其他智能体等因素，他们和这个agent的相对位置方向就变了，就需要对所有场景元素的坐标进行重新归一化。

地图相关的元素

高精地图的polygon，车道，人行横道，丰富的信息，每个多边形有采样点，精确描述形状和位置。

路径的规划和轨迹的预测

确定agent和地图元素的相对位置关系

多边形语义属性，例如机动车道非机动车道人行道等。

语义信息为理解场景和行为提供了依据，并可以分析行为模式。

智能体的相关元素：

在本文轨迹预测的研究中，智能体相关元素是理解和预测智能体行为的关键，主要包括智能体在特定时刻的各种状态信息，这些信息从不同维度描述了智能体的特征和运动情况。

1. **位置信息**：智能体的位置信息是其最基本的属性之一，包括空间位置和时间位置。空间位置用\(p_{i}^{t}=(p_{i,x}^{t}, p_{i,y}^{t})\)表示，它精确地指出了智能体在二维空间中的坐标。在实际的自动驾驶场景中，这一信息能够直观地展示车辆、行人等智能体在地图上的具体位置，对于判断它们的相对位置关系以及可能的运动轨迹起着至关重要的作用。时间位置则由时间步\(t\)来体现，它记录了智能体状态对应的时刻，使得模型可以追踪智能体随时间的变化情况，捕捉其运动的时间序列特征。
2. **角度信息**：角度位置在文中指的是偏航角\(\theta_{i}^{t}\) ，它代表了智能体的运动方向。以车辆为例，偏航角决定了车辆行驶的方向，是判断车辆转弯、直行等行为的重要依据。当车辆在道路上行驶时，偏航角的变化反映了车辆的转向操作，对于预测车辆未来的行驶路径具有关键意义。
3. **运动信息**：运动信息包括速度\(v_{i}^{t}\)和运动向量\(p_{i}^{t}-p_{i}^{t - 1}\)。速度\(v_{i}^{t}\)描述了智能体运动的快慢，它是一个矢量，不仅包含了速度的大小，还蕴含了运动的方向信息。在轨迹预测中，速度信息能够帮助模型预估智能体在未来时刻的位置。运动向量\(p_{i}^{t}-p_{i}^{t - 1}\)则体现了智能体在相邻时间步之间的位置变化，通过分析运动向量，模型可以了解智能体的运动趋势，判断其是加速、减速还是保持匀速运动。

Q:如果感知系统不完美怎么办呢？

确实，在实际应用中，tracking（跟踪）和perception（感知）并非完美，存在一些问题和挑战，这会对目标数量的确定以及整个轨迹预测任务产生影响：

1. **感知误差**
    - **传感器局限性**：各类传感器在采集数据时都有其局限性。激光雷达虽然能精确测量距离，但在恶劣天气（如大雨、浓雾）条件下，激光束会被散射或吸收，导致测量精度下降，可能无法检测到部分目标或出现误检测。摄像头依赖于视觉信息，在低光照环境下，图像质量变差，目标检测算法的性能会大幅降低，容易漏检目标。毫米波雷达对近距离目标的分辨率有限，可能无法准确区分相邻的多个目标 。
    - **目标遮挡**：在复杂的交通场景中，目标之间的遮挡现象经常发生。在拥堵的街道上，一辆车可能被前面的车辆完全或部分遮挡，使得传感器难以获取被遮挡车辆的完整信息。基于视觉的目标检测算法可能会因为遮挡而无法识别出被遮挡的车辆，基于激光雷达的检测也可能因为遮挡导致点云数据缺失，从而漏检目标，导致统计的目标数量不准确 。
2. **跟踪不准确**
    - **相似目标混淆**：当场景中有多个相似的目标时，跟踪算法容易出现混淆。在停车场中，多辆同款车型的汽车，它们在外观、大小等特征上极为相似，跟踪算法可能会将不同车辆的身份搞混，把一辆车的轨迹错误地关联到另一辆车，导致跟踪不准确，进而影响对目标数量的判断 。
    - **目标突然运动变化**：如果目标突然改变运动状态，如车辆突然急刹车、变道或加速，跟踪算法可能无法及时适应这种变化，导致跟踪丢失或不准确。跟踪算法通常基于目标的历史运动信息进行预测和跟踪，当目标运动变化超出预测范围时，跟踪器可能会出现偏差，无法准确跟踪目标，使得目标数量的统计出现误差 。
3. **数据处理与算法性能问题**
    - **算法复杂度与实时性矛盾**：为了提高目标检测和跟踪的准确性，往往需要采用复杂的算法，如基于深度学习的目标检测和跟踪算法。这些算法虽然在精度上表现出色，但计算复杂度高，对硬件性能要求也高。在实际的自动驾驶系统中，需要在有限的硬件资源下实时处理传感器数据，如果硬件性能无法满足算法的计算需求，就会导致处理延迟，影响目标检测和跟踪的实时性，进而可能错过某些目标的检测或跟踪，影响目标数量的确定 。
    - **算法适应性问题**：不同的交通场景具有不同的特点，现有的检测和跟踪算法可能无法很好地适应各种复杂场景。城市街道、高速公路、乡村道路等场景在目标密度、道路结构、光照条件等方面差异很大，一种算法在某个场景下表现良好，但在其他场景下可能性能下降，导致目标检测和跟踪不准确，影响对目标数量的准确判断 。

论文本地deploy：

- [ ] 数据argoverse
- [ ] argoverse api部署
- [ ] qcnet codebase
- [ ] conda
- [ ] torch lightening and extra
- [ ] checkpoint
- [ ] test.py
